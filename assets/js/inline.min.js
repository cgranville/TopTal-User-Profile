$(document).ready(function(){function e(e){e.mouseup(function(e){t(this),e.preventDefault()}),e.focus(function(){console.log($(this).val()+" Focused"),t(this)}),e.keypress(function(e){9==e.which&&e.preventDefault()})}function t(e){var t=e;if(document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(t),n.select()}else if(window.getSelection){var a=window.getSelection(),n=document.createRange();n.selectNodeContents(t),a.removeAllRanges(),a.addRange(n),event.stopPropagation()}}function n(t,a){console.log(event.type),13==a||"blur"==event.type?("Add Language"!=t.text()&&t.text()&&t.is(":last-child")?(t.parent().append('<span class="editable language add" contenteditable="true" data-title="Add Lanuage">Add Language</span>'),t.removeClass("add").addClass("saved"),t.next(".language").remove("br"),e(t.next(".language")),t.next(".language").focus().keypress(function(e){13==e.which&&n($(this),e.which)}).blur(function(e){n($(this),e.which)})):"Add Language"!=t.text()&&t.text()&&t.not(":last-child")&&"blur"!=event.type?t.next(".language").focus():"Add Language"!=t.text()&&0==t.text()&&t.not(":last-child")&&"blur"!=event.type?t.remove():"Add Language"!=t.text()&&0==t.text()&&t.is(":last-child")&&"blur"!=event.type?(event.preventDefault(),t.innerHTML("Add Language")):"blur"==event.type&&t.removeClass("add").addClass("saved"),event.preventDefault()):9==a&&(t.removeClass("add").addClass("saved"),event.preventDefault())}$(".editable").mouseup(function(e){t(this),e.preventDefault()}),$(".editable").focus(function(){console.log($(this).val()+" Focused"),t(this)}),$(".editable").keypress(function(e){9==e.which&&e.preventDefault()}),$("#name").focusout(function(){var e=$(this).text().split(" ");$(".firstName").html(e[0])}),$("#name").keypress(function(e){if(13==e.which){var t=$(this).text().split(" ");$(".firstName").html(t[0]),e.preventDefault()}}),$("#location").focusout(function(){codeAddress(),$(".mapInfo").css({height:"auto"})}),$("#location").keypress(function(e){13==e.which&&(codeAddress(),event.preventDefault())}),$(".language").keypress(function(e){n($(this),e.which)}).blur(function(e){n($(this),e.which)})});